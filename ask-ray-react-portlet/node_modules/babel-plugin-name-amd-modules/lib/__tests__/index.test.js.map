{"version":3,"sources":["../../src/__tests__/index.test.js"],"names":["babel","logger","beforeEach","set","__filename","it","source","transform","filenameRelative","plugins","expect","messages","toMatchSnapshot","code"],"mappings":";;AAAA;;IAAYA,K;;AACZ;;;;AACA;;;;;;;;AAEA,IAAIC,eAAJ;;AAEAC,WAAW,YAAM;AAChB,wBAAaC,GAAb,CAAiBC,UAAjB,EAA8BH,SAAS,4BAAvC;AACA,CAFD;;AAIAI,GAAG,wBAAH,EAA6B,YAAM;AAClC,KAAMC,2CAAN;;AAIAN,OAAMO,SAAN,CAAgBD,MAAhB,EAAwB;AACvBE,oBAAkBJ,UADK;AAEvBK,WAAS;AAFc,EAAxB;;AAKAC,QAAOT,OAAOU,QAAd,EAAwBC,eAAxB;AACA,CAXD;;AAaAP,GAAG,mCAAH,EAAwC,YAAM;AAC7C,KAAMC,2CAAN;;AAD6C,wBAK9BN,MAAMO,SAAN,CAAgBD,MAAhB,EAAwB;AACtCE,oBAAkBJ,UADoB;AAEtCK,WAAS;AAF6B,EAAxB,CAL8B;AAAA,KAKtCI,IALsC,oBAKtCA,IALsC;;AAU7CH,QAAOG,IAAP,EAAaD,eAAb;AACA,CAXD;;AAaAP,GAAG,iCAAH,EAAsC,YAAM;AAC3C,KAAMC,gEAAN;;AAD2C,yBAK5BN,MAAMO,SAAN,CAAgBD,MAAhB,EAAwB;AACtCE,oBAAkBJ,UADoB;AAEtCK,WAAS;AAF6B,EAAxB,CAL4B;AAAA,KAKpCI,IALoC,qBAKpCA,IALoC;;AAU3CH,QAAOG,IAAP,EAAaD,eAAb;AACA,CAXD","file":"index.test.js","sourcesContent":["import * as babel from 'babel-core';\nimport PluginLogger from 'liferay-npm-build-tools-common/lib/plugin-logger';\nimport plugin from '../index';\n\nlet logger;\n\nbeforeEach(() => {\n\tPluginLogger.set(__filename, (logger = new PluginLogger()));\n});\n\nit('logs results correctly', () => {\n\tconst source = `\n\tdefine([], function(){})\n\t`;\n\n\tbabel.transform(source, {\n\t\tfilenameRelative: __filename,\n\t\tplugins: [plugin],\n\t});\n\n\texpect(logger.messages).toMatchSnapshot();\n});\n\nit('correctly names anonymous modules', () => {\n\tconst source = `\n\tdefine([], function(){})\n\t`;\n\n\tconst {code} = babel.transform(source, {\n\t\tfilenameRelative: __filename,\n\t\tplugins: [plugin],\n\t});\n\n\texpect(code).toMatchSnapshot();\n});\n\nit('correctly renames named modules', () => {\n\tconst source = `\n\tdefine('my-invalid-name', [], function(){})\n\t`;\n\n\tconst {code} = babel.transform(source, {\n\t\tfilenameRelative: __filename,\n\t\tplugins: [plugin],\n\t});\n\n\texpect(code).toMatchSnapshot();\n});\n"]}